// Copyright 2018-2024 the oak authors. All rights reserved. MIT license.
const UNMATCHED_SURROGATE_PAIR_REGEXP = /(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]|[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/g;
const UNMATCHED_SURROGATE_PAIR_REPLACE = "$1\uFFFD$2";
const ENCODE_CHARS_REGEXP = /(?:[^\x21\x25\x26-\x3B\x3D\x3F-\x5B\x5D\x5F\x61-\x7A\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g;
/** Encodes the url preventing double encoding */ export function encodeUrl(url) {
  return String(url).replace(UNMATCHED_SURROGATE_PAIR_REGEXP, UNMATCHED_SURROGATE_PAIR_REPLACE).replace(ENCODE_CHARS_REGEXP, encodeURI);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vanNyLmlvL0BvYWsvb2FrLzE2LjEuMC91dGlscy9lbmNvZGVfdXJsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE4LTIwMjQgdGhlIG9hayBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBNSVQgbGljZW5zZS5cblxuY29uc3QgVU5NQVRDSEVEX1NVUlJPR0FURV9QQUlSX1JFR0VYUCA9XG4gIC8oXnxbXlxcdUQ4MDAtXFx1REJGRl0pW1xcdURDMDAtXFx1REZGRl18W1xcdUQ4MDAtXFx1REJGRl0oW15cXHVEQzAwLVxcdURGRkZdfCQpL2c7XG5jb25zdCBVTk1BVENIRURfU1VSUk9HQVRFX1BBSVJfUkVQTEFDRSA9IFwiJDFcXHVGRkZEJDJcIjtcbmNvbnN0IEVOQ09ERV9DSEFSU19SRUdFWFAgPVxuICAvKD86W15cXHgyMVxceDI1XFx4MjYtXFx4M0JcXHgzRFxceDNGLVxceDVCXFx4NURcXHg1RlxceDYxLVxceDdBXFx4N0VdfCUoPzpbXjAtOUEtRmEtZl18WzAtOUEtRmEtZl1bXjAtOUEtRmEtZl18JCkpKy9nO1xuXG4vKiogRW5jb2RlcyB0aGUgdXJsIHByZXZlbnRpbmcgZG91YmxlIGVuY29kaW5nICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlVXJsKHVybDogc3RyaW5nKSB7XG4gIHJldHVybiBTdHJpbmcodXJsKVxuICAgIC5yZXBsYWNlKFVOTUFUQ0hFRF9TVVJST0dBVEVfUEFJUl9SRUdFWFAsIFVOTUFUQ0hFRF9TVVJST0dBVEVfUEFJUl9SRVBMQUNFKVxuICAgIC5yZXBsYWNlKEVOQ09ERV9DSEFSU19SRUdFWFAsIGVuY29kZVVSSSk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEseUVBQXlFO0FBRXpFLE1BQU0sa0NBQ0o7QUFDRixNQUFNLG1DQUFtQztBQUN6QyxNQUFNLHNCQUNKO0FBRUYsK0NBQStDLEdBQy9DLE9BQU8sU0FBUyxVQUFVLEdBQVc7RUFDbkMsT0FBTyxPQUFPLEtBQ1gsT0FBTyxDQUFDLGlDQUFpQyxrQ0FDekMsT0FBTyxDQUFDLHFCQUFxQjtBQUNsQyJ9